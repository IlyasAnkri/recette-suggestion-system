<div class="ingredient-input-container">
  <h2>What ingredients do you have?</h2>
  
  <mat-form-field class="ingredient-field" appearance="outline">
    <mat-label>Add ingredients</mat-label>
    <mat-chip-grid #chipGrid aria-label="Ingredient selection">
      @for (ingredient of ingredients(); track ingredient) {
        <mat-chip-row (removed)="removeIngredient(ingredient)">
          {{ ingredient }}
          <button matChipRemove aria-label="Remove ingredient">
            <mat-icon>cancel</mat-icon>
          </button>
        </mat-chip-row>
      }
    </mat-chip-grid>
    
    <input
      placeholder="Type ingredient name and press Enter..."
      [formControl]="ingredientControl"
      [matChipInputFor]="chipGrid"
      (matChipInputTokenEnd)="addIngredient($event)"
    />
  </mat-form-field>

  @if (validationError()) {
    <div class="validation-error">
      <mat-icon>warning</mat-icon>
      <span>{{ validationError() }}</span>
    </div>
  }

  <div class="ingredient-count">
    {{ ingredients().length }} / 20 ingredients
  </div>

  <div class="button-group">
    <button
      mat-raised-button
      color="primary"
      class="search-button"
      [disabled]="!canSearch()"
      (click)="searchRecipes()">
      <mat-icon>search</mat-icon>
      Find Recipes
    </button>
    
    <button
      mat-stroked-button
      color="primary"
      class="browse-button"
      (click)="browseAllRecipes()">
      <mat-icon>restaurant_menu</mat-icon>
      Browse All Recipes
    </button>
  </div>
</div>
