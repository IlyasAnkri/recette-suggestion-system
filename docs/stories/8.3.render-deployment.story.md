# Story 8.3: Set up Render.com Deployment for Backend Services

## Status: Draft

## Story
**As a** DevOps engineer,  
**I want** backend services deployed to Render.com,  
**so that** the application is accessible to users.

## Acceptance Criteria
1. Render account and project created
2. 8 web services configured (one per microservice)
3. Docker build context and Dockerfile configured
4. Environment variables set (Kafka, MongoDB, PostgreSQL, JWT)
5. Health check endpoint configured
6. Auto-deploy on push to main branch

## Tasks / Subtasks
- [ ] Task 1: Create Render account (AC: 1)
  - [ ] Sign up for Render
  - [ ] Create project/team

- [ ] Task 2: Configure web services (AC: 2)
  - [ ] Create 8 web services
  - [ ] Name each service

- [ ] Task 3: Configure Docker builds (AC: 3)
  - [ ] Set build context
  - [ ] Point to Dockerfile

- [ ] Task 4: Set environment variables (AC: 4)
  - [ ] KAFKA_BOOTSTRAP_SERVERS
  - [ ] MONGODB_URI
  - [ ] POSTGRES_URL
  - [ ] JWT_PUBLIC_KEY

- [ ] Task 5: Configure health checks (AC: 5)
  - [ ] Set /actuator/health path
  - [ ] Configure timeout

- [ ] Task 6: Enable auto-deploy (AC: 6)
  - [ ] Connect GitHub repo
  - [ ] Enable auto-deploy on main

## Dev Notes

### Render Free Tier Limits
- 750 hours/month per service
- Spins down after 15 min inactivity
- 512 MB RAM

### Service Configuration
| Service | Port | Health Path |
|---------|------|-------------|
| api-gateway | 8080 | /actuator/health |
| ingredient-matching | 8081 | /actuator/health |
| recipe-search | 8082 | /actuator/health |
| ... | ... | ... |

## Testing

### Test Cases
1. Services deploy successfully
2. Health checks pass
3. Environment variables accessible
4. Auto-deploy triggers on push

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-20 | 1.0 | Initial story creation | Bob (SM) |
