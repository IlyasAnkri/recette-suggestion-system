# Story 8.2: Set up GitHub Actions CI Pipeline for Frontend

## Status: Draft

## Story
**As a** developer,  
**I want** automated CI for the Angular frontend,  
**so that** code quality and builds are verified.

## Acceptance Criteria
1. GitHub Actions workflow `.github/workflows/ci-frontend.yml` created
2. Runs on push to main, develop, and pull requests
3. Steps: checkout, setup Node 20, cache npm, install, lint, test, build
4. Fail on linter errors, test failures, or build errors
5. Build artifacts uploaded for deployment
6. E2E tests run on pull requests

## Tasks / Subtasks
- [ ] Task 1: Create workflow file (AC: 1)
  - [ ] Create `.github/workflows/ci-frontend.yml`

- [ ] Task 2: Configure triggers (AC: 2)
  - [ ] Push and PR triggers

- [ ] Task 3: Define job steps (AC: 3)
  - [ ] Checkout, setup Node, cache
  - [ ] npm ci, lint, test:ci, build:prod

- [ ] Task 4: Fail on errors (AC: 4)
  - [ ] Lint step fails on errors
  - [ ] Test step fails on failures

- [ ] Task 5: Upload artifacts (AC: 5)
  - [ ] Upload dist folder
  - [ ] Retain for 7 days

- [ ] Task 6: E2E tests (AC: 6)
  - [ ] Run Playwright tests
  - [ ] Upload test results

## Dev Notes

### Workflow Configuration
```yaml
name: Frontend CI

on:
  push:
    branches: [main, develop]
  pull_request:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'
          cache-dependency-path: frontend/package-lock.json
      - run: npm ci
        working-directory: frontend
      - run: npm run lint
        working-directory: frontend
      - run: npm run test:ci
        working-directory: frontend
      - run: npm run build:prod
        working-directory: frontend
      - uses: actions/upload-artifact@v4
        with:
          name: dist
          path: frontend/dist/
```

## Testing

### Test Cases
1. Workflow triggers correctly
2. Lint errors fail workflow
3. Test failures fail workflow
4. Build artifact uploaded

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-20 | 1.0 | Initial story creation | Bob (SM) |
